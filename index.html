<!DOCTYPE html>
<html lang="pt-br">
<head>
      <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains">
    <meta http-equiv="Cache-Control" content="no-store">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Sxmpra ip Rastreamento de IP</title>
      <link rel="icon" href="img/Ki.webp" type="logo">
    <audio id="myAudio" autoplay>
        <source src="img/My.m4a" type="audio/mpeg">
        Seu navegador não suporta o elemento de áudio.
    </audio>
</head>
<header>
    <div class="containerr">
      <h1>SXMPRA</h1>
      <div class="menu-icon" onclick="toggleMenu()">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="close">&times;</div>
      </div>
      <nav id="menu">
        <ul>
          <li><a href="https://sxmpra9.github.io/Realsxmpra.com.net/" onclick="toggleMenu()">Home</a></li>
          <li><a href="https://sxmpra9.github.io/Botsxmpra.com/" onclick="toggleMenu()">Cursos</a></li>
          <li><a href="https://sxmpra9.github.io/Servisos.com/" onclick="toggleMenu()">serviços</a></li>
          <li><a href="https://sxmpra9.github.io/SxmpraIP.com/" onclick="toggleMenu()">Sxmpra IP</a></li>
          <li><a href="https://sxmpra9.github.io/Botsxmpra.com/" onclick="toggleMenu()">Sxmpra IA</a></li>
          <li><a href="https://sxmpra9.github.io/Contatos.com/" onclick="toggleMenu()">Contatos</a></li>
        </ul>
      </nav>
    </div>
  </header>
<body>
    <h1>Sxmpra ip</h1>
    <form id="form-ip">
        <label for="ip">Digite o IP:</label>
        <input placeholder="Digite o ip aqui" type="text" id="ip" name="ip" required>
        <button class="button" type="submit">Rastrear</button>
    <button class="botao-voltar" onclick="voltarPagina()">⬅ Voltar</button>
    </form>
    <div id="result"></div>
    <script>
        document.getElementById('form-ip').addEventListener('submit', async function (event) {
            event.preventDefault();
            
            const ip = document.getElementById('ip').value;
            const response = await fetch(`http://localhost:3000/rastrear/${ip}`);
            const data = await response.json();

            const resultDiv = document.getElementById('result');
            if (response.ok) {
                resultDiv.innerHTML = `
    <div class="result-item"><span>IP:</span> ${ip}</div>
    <div class="result-item"><span>Cidade:</span> ${data.city.names.en}</div>
    <div class="result-item"><span>Estado:</span> ${data.subdivisions[0].names.en}</div>
    <div class="result-item"><span>País:</span> ${data.country.names.en}</div>
    <div class="result-item"><span>Latitude:</span> ${data.location.latitude}</div>
    <div class="result-item"><span>Longitude:</span> ${data.location.longitude}</div>
`;
            } else {
                resultDiv.innerHTML = `<p>Erro: ${data.error}</p>`;
            }
        });
      
        window.addEventListener('click', () => {
            document.getElementById('myAudio').play();
        }, { once: true });
        function voltarPagina() {
            history.back();
        }
    </script>
    <script src="script.js"></script>
</body>
</html>